<!DOCTYPE html>
<html style="height: 100%; width: 100%">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>阳性溯源项目 - 合并版</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <link rel="icon" type="image/png" href="assets/favicon.png">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
        }
        #main {
            height: 100vh;
            width: 100vw;
        }
    </style>
</head>
<body>
<div id="main"></div>
<script>
var chart = echarts.init(document.getElementById('main'));

// 一期/二期省份名单
var phase1 = ["湖北省", "云南省", "河北省", "北京市", "浙江省", "重庆市", "广东省", "广西壮族自治区"];
var phase2 = ["吉林省", "黑龙江省", "山东省", "河南省", "福建省", "湖南省", "江西省", "安徽省", "贵州省"];

// 合并所有省份
var provinces = phase1.concat(phase2);

// 所有省份统一颜色对应的值
var data = provinces.map(p => ({name: p, value: 2}));

// 加载本地完整 GeoJSON
fetch("assets/100000_full.json")  // 根据你放置的位置修改路径
    .then(res => res.json())
    .then(geoJson => {
        echarts.registerMap('china', geoJson);

        chart.setOption({
            tooltip: {
                trigger: 'item',
                formatter: function(params) {
                    return params.name + "<br/>所属：二期";
                }
            },
            visualMap: { show: false },  // 隐藏图例
            series: [{
                name: '中国',
                type: 'map',
                map: 'china',
                roam: false,
                label: { show: true, fontSize: 8, color: '#000', fontWeight: 'bold' },
                itemStyle: { 
                    borderColor: '#666', 
                    color: '#5DADE2'  // 二期颜色
                },
                emphasis: { 
                    label: { show: true, color: '#000' }, 
                    itemStyle: { areaColor: '#FFD700' } 
                },
                data: data
            }]
        });
    });

// 自适应窗口
window.addEventListener("resize", function() {
    chart.resize();
});
</script>
</body>
</html>
